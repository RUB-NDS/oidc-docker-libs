version: '3.5'

services:
  mitre_idp:
    build:
      context: ./
      dockerfile: Dockerfile
      args:
        ISSUER: "honestidp.de:8080"
    ports:
      - "8280:8080"
    networks:
      professos_default:
        aliases:
          - honestidp.de
          - www.honestidp.de
      # configuration of IdP is then available at
      # http://localhost:8280/openid-connect-server-webapp/.well-known/openid-configuration (from host)
      # or at
      # http://honestidp.de:8080/openid-connect-server-webapp/.well-known/openid-configuration (from docker default net)

networks:
  professos_default:
    external:
      name: professos-default-net

